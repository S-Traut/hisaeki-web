{
  "version": 3,
  "sources": ["../../@yeger/vue-masonry-wall/dist/index.mjs"],
  "sourcesContent": ["import { defineComponent as $, toRefs as D, ref as M, onMounted as E, onBeforeUnmount as F, watch as R, openBlock as p, createElementBlock as m, normalizeStyle as T, unref as u, Fragment as S, renderList as b, renderSlot as Y, createTextVNode as z, toDisplayString as A, nextTick as L } from \"vue\";\nconst N = [\"data-index\"], U = /* @__PURE__ */ $({\n  __name: \"masonry-wall\",\n  props: {\n    columnWidth: { default: 400 },\n    items: {},\n    gap: { default: 0 },\n    rtl: { type: Boolean, default: !1 },\n    ssrColumns: { default: 0 },\n    scrollContainer: { default: null },\n    keyMapper: { type: Function, default: (o, c, h, v) => v }\n  },\n  emits: [\"redraw\", \"redrawSkip\"],\n  setup(o, { emit: c }) {\n    const h = o, { columnWidth: v, items: r, gap: i, rtl: _, ssrColumns: y, scrollContainer: g, keyMapper: W } = D(h), d = M([]), f = M();\n    function k() {\n      const e = Math.floor(\n        (f.value.getBoundingClientRect().width + i.value) / (v.value + i.value)\n      );\n      return e > 0 ? e : 1;\n    }\n    function C(e) {\n      return [...new Array(e)].map(() => []);\n    }\n    if (y.value > 0) {\n      const e = C(y.value);\n      r.value.forEach(\n        (t, l) => e[l % y.value].push(l)\n      ), d.value = e;\n    }\n    async function x(e) {\n      if (e >= r.value.length)\n        return;\n      await L();\n      const t = [...f.value.children];\n      _.value && t.reverse();\n      const l = t.reduce(\n        (a, n) => n.getBoundingClientRect().height < a.getBoundingClientRect().height ? n : a\n      );\n      d.value[+l.dataset.index].push(e), await x(e + 1);\n    }\n    async function w(e = !1) {\n      if (d.value.length === k() && !e) {\n        c(\"redrawSkip\");\n        return;\n      }\n      d.value = C(k());\n      const t = g == null ? void 0 : g.value, l = t ? t.scrollTop : window.scrollY;\n      await x(0), t ? t.scrollBy({ top: l - t.scrollTop }) : window.scrollTo({ top: l }), c(\"redraw\");\n    }\n    const s = typeof ResizeObserver > \"u\" ? void 0 : new ResizeObserver(() => w());\n    return E(() => {\n      w(), s == null || s.observe(f.value);\n    }), F(() => s == null ? void 0 : s.unobserve(f.value)), R([r, _], () => w(!0)), R([v, i], () => w()), (e, t) => (p(), m(\"div\", {\n      ref_key: \"wall\",\n      ref: f,\n      class: \"masonry-wall\",\n      style: T({ display: \"flex\", gap: `${u(i)}px` })\n    }, [\n      (p(!0), m(S, null, b(d.value, (l, a) => (p(), m(\"div\", {\n        key: a,\n        class: \"masonry-column\",\n        \"data-index\": a,\n        style: T({\n          display: \"flex\",\n          \"flex-basis\": \"0px\",\n          \"flex-direction\": \"column\",\n          \"flex-grow\": 1,\n          gap: `${u(i)}px`,\n          height: [\"-webkit-max-content\", \"-moz-max-content\", \"max-content\"],\n          \"min-width\": 0\n        })\n      }, [\n        (p(!0), m(S, null, b(l, (n, B) => (p(), m(\"div\", {\n          key: u(W)(u(r)[n], a, B, n),\n          class: \"masonry-item\"\n        }, [\n          Y(e.$slots, \"default\", {\n            item: u(r)[n],\n            column: a,\n            row: B,\n            index: n\n          }, () => [\n            z(A(u(r)[n]), 1)\n          ])\n        ]))), 128))\n      ], 12, N))), 128))\n    ], 4));\n  }\n}), j = /* @__PURE__ */ (() => {\n  const o = U;\n  return o.install = (c) => {\n    c.component(\"MasonryWall\", o);\n  }, o;\n})();\nexport {\n  j as default\n};\n"],
  "mappings": "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",
  "names": []
}
